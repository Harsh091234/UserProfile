<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>profile</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="text-white font-sans bg-zinc-950" >
 <div class="w-full min-h-screen px-2 py-2">
    <a href="/logout" class="absolute right-2 px-3 py-1.5 text-md font-semibold bg-red-500 rounded-lg" >Logout</a>
    <div class="mt-10 flex gap-2 items-center">
        <div class="w-14 h-14  rounded-lg overflow-hidden">
          <a href="/profile/upload" class="h-full w-full object-cover "><img src="/images/uploads/<%= user.profilepic %>" alt="" class="h-full w-full"></a>
          
        </div>
        <h1 class="font-md text-3xl mt-4">Hello, <%= user.name %></h1>
    </div>
 
    <h1 class="text-md text-zinc-400 mt-3">You can create new post</h1>
    <form action="/post" method="post" class="mt-1">
      <textarea name="content" id="" placeholder="What's on your mind" class="block resize-none  h-40 w-80 border-zinc-400 border-1 rounded-lg p-2 
      "></textarea>
      <input type="submit" value="Create New Post" class="block mt-1.5 text-sm px-3 py-1 bg-blue-500 rounded-lg">

    </form>
    <h1 class="text-zinc-400 mt-14">Your Posts</h1>
    <div class="postContainer w-[30rem] mt-1">
      <% user.posts.reverse().forEach(function(post) { %>
        <div class="post border-1 border-zinc-700 bg-zinc-800 rounded-lg py-1.5 px-2.5 mb-1.5">
          <a href="" class="text-blue-500 text-sm"><%= user.username %></a>
          <p class="text-sm"><%= post.content %></p>
          <div class="buttons flex gap-3 mt-3">
            <small class="text-zinc-400"><%= post.likes.length %></small>
            <a href="/like/<%= post._id %>" class="text-sm text-blue-500"><%= post.likes.indexOf(user._id) === -1 ? "Like" : "Unlike" %> </a>
            <a href="/edit/<%= post._id %>" class="text-sm text-zinc-400">edit</a>
          </div>
        </div>
      <% }) %>

      
    </div>

 </div>
</body>
</html>